<html>
<body>
<script>
var gb;
function onRequest(request, sender, sendResponse) {
  // Show the page action for the tab that the sender (content script)
  // was on.
  chrome.pageAction.show(sender.tab.id);
  gb = sender.tab.id;
  //alert(gb);
  alert("hi");
  //chrome.pageAction.
  // Return nothing to let the connection be cleaned up.
  sendResponse('password field found');
};
function doSomething()
{
  alert("Icon clicked");
  //chrome.tabs.executeScript( { file: 'new.js' } );
  //chrome.pageAction.setpopup({popup: "popup.html"});
}
// Listen for the content script to send a message to the background page.
chrome.extension.onRequest.addListener(onRequest);
chrome.pageAction.onClicked.addListener(doSomething);
</script>
</body>
</html>